module.exports = until

/**
 * @param {number} opcode - one byte number.
 */
function until(opcode) {
  return {
    decode,
    encode() {}
  }

  /**
   * Decode.
   * @param {DecodeStream} rstream
   */
  function decode(rstream) {
    decode.bytes = 0
    let bytes = 0

    for (let i = 0; i < rstream.length; ++i,++bytes) {
      if (rstream.get(i) === opcode) {
        return bytes
      }
    }

    return -1
  }
}
